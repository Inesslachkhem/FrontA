<!-- Background with gradient and geometric patterns -->
<div
  class="min-h-screen relative bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 overflow-hidden page-entrance"
>
  <!-- Toast Notification -->
  <div *ngIf="showToast" class="toast-container">
    <div
      class="toast show backdrop-blur-xl rounded-2xl p-4 shadow-2xl"
      [ngClass]="{
        'toast-success': toastType === 'success',
        'toast-error': toastType === 'error'
      }"
    >
      <div class="flex items-start">
        <div class="flex-shrink-0">
          <svg
            *ngIf="toastType === 'success'"
            class="h-6 w-6 text-white toast-icon"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
          <svg
            *ngIf="toastType === 'error'"
            class="h-6 w-6 text-white toast-icon"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
        </div>
        <div class="ml-3 w-0 flex-1">
          <p class="text-sm font-medium text-white whitespace-pre-line">
            {{ toastMessage }}
          </p>
        </div>
        <div class="ml-4 flex-shrink-0 flex">
          <button
            type="button"
            class="toast-close inline-flex text-white hover:text-gray-200 focus:outline-none transition-all duration-200 rounded-full p-1"
            (click)="hideToast()"
          >
            <svg
              class="h-5 w-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>
        </div>
      </div>
      <div class="toast-progress"></div>
    </div>
  </div>
  <!-- Animated background elements -->
  <div class="absolute inset-0 overflow-hidden">
    <div
      class="absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"
    ></div>
    <div
      class="absolute -bottom-40 -left-40 w-80 h-80 bg-yellow-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"
    ></div>
    <div
      class="absolute top-40 left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"
    ></div>
  </div>

  <!-- Grid pattern overlay -->
  <div class="absolute inset-0 bg-grid-white/[0.02] bg-grid-16"></div>

  <!-- Main container -->
  <div class="relative z-10 max-w-md w-full">
    <!-- Glassmorphism card -->
    <div
      class="backdrop-blur-xl bg-white/10 border border-white/20 rounded-3xl shadow-2xl p-8 space-y-8 transform hover:scale-[1.02] transition-all duration-300 card-entrance animate-pulse-glow"
    >
      <!-- Header section -->
      <div class="text-center stagger-1">
        <!-- Logo container with glow effect -->
        <div class="relative mx-auto w-20 h-20 mb-6 animate-floating">
          <div
            class="absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl blur-lg opacity-60 animate-pulse-glow"
          ></div>
          <div
            class="relative bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center h-full w-full micro-bounce"
          >
            <svg
              class="h-10 w-10 text-white icon-bounce"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.031 9-11.622 0-1.042-.133-2.052-.382-3.016z"
              />
            </svg>
          </div>
        </div>

        <h1
          class="text-4xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent mb-3 text-shimmer"
        >
          Admin Portal
        </h1>
        <h2 class="text-xl font-semibold text-white/90 mb-2">SmartPromo</h2>
        <p class="text-gray-300 text-sm">Système de gestion des promotions</p>
      </div>

      <!-- Login form -->
      <form class="space-y-6 stagger-2" (ngSubmit)="onSubmit()">
        <!-- Email input -->
        <div class="space-y-2 stagger-3">
          <label for="email" class="block text-sm font-medium text-white/80">
            Adresse email
          </label>
          <div class="relative">
            <div
              class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
            >
              <svg
                class="h-5 w-5 text-gray-400 micro-bounce"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"
                />
              </svg>
            </div>
            <input
              id="email"
              name="email"
              type="email"
              autocomplete="email"
              required
              class="block w-full pl-10 pr-3 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-300 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 hover:bg-white/15 input-focus-animation"
              placeholder="admin@smartpromo.com"
              [(ngModel)]="signInDto.email"
              [disabled]="isLoading"
            />
          </div>
        </div>

        <!-- Password input -->
        <div class="space-y-2 stagger-4">
          <label for="password" class="block text-sm font-medium text-white/80">
            Mot de passe
          </label>
          <div class="relative">
            <div
              class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
            >
              <svg
                class="h-5 w-5 text-gray-400 micro-bounce"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
                />
              </svg>
            </div>
            <input
              id="password"
              name="password"
              [type]="showPassword ? 'text' : 'password'"
              autocomplete="current-password"
              required
              class="block w-full pl-10 pr-12 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-300 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 hover:bg-white/15 input-focus-animation"
              placeholder="Entrez votre mot de passe"
              [(ngModel)]="signInDto.password"
              [disabled]="isLoading"
            />
          </div>
        </div>

        <!-- Error message -->
        <div
          *ngIf="errorMessage"
          class="bg-red-500/20 border border-red-500/30 text-red-200 px-4 py-3 rounded-xl backdrop-blur-sm animate-shake error-pulse"
        >
          <div class="flex items-center">
            <svg
              class="h-5 w-5 text-red-400 mr-2 micro-bounce"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
              />
            </svg>
            <span class="text-sm">{{ errorMessage }}</span>
          </div>
        </div>

        <!-- Submit button -->
        <button
          type="submit"
          class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] transition-all duration-200 shadow-lg hover:shadow-xl button-morph gradient-animated stagger-5"
          [disabled]="isLoading"
        >
          <span
            class="absolute left-0 inset-y-0 flex items-center pl-3"
            *ngIf="isLoading"
          >
            <div
              class="animate-spin rounded-full h-5 w-5 border-b-2 border-white"
            ></div>
          </span>
          <span class="flex items-center">
            <svg
              *ngIf="!isLoading"
              class="h-5 w-5 mr-2 micro-bounce"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"
              />
            </svg>
            {{ isLoading ? "Connexion en cours..." : "Se connecter" }}
          </span>
        </button>

        <!-- Additional features -->
        <div class="text-center space-y-3 stagger-5">
          <div class="text-xs text-gray-300">
            Plateforme d'administration sécurisée
          </div>
        </div>
      </form>
    </div>

    <!-- Footer -->
    <div class="text-center mt-8 stagger-5">
      <p class="text-xs text-gray-400">
        © 2025 SmartPromo. Tous droits réservés.
      </p>
    </div>
  </div>
</div>
